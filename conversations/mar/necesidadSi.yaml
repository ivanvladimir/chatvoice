conversations:
  - 'derivacion.yaml'
slots:
  - preocupacion1
  - preocupacion2
  - preocupacion3
  - otra
  - otra2
  - bandera
  - jerarquia

strategies:
  intro3:
    - say "Teniendo en cuenta que hay situaciones que requieren atenciÃ³n inmediata y otras que pueden abordarse con calma mÃ¡s adelante, identifiquemos junt@s las necesidades urgentes que puedas tener ğŸ˜Š..."
  preocupacion1:
    - say "PlatÃ­came por favor alguna necesidad urgente que tengas:"
    - input preocupacion1
  otra3:
    - say "Muy bienğŸ‘ğŸ‘ğŸ˜‰, **Â¿hay algo mÃ¡s que necesites?**"
    - say "Escribe Si o No"
    - input otra | yesno
  preocupacion2:
    - say "okay, platÃ­came quÃ© mÃ¡s necesitas ğŸ˜Š."
    - input preocupacion2
    - set_slot bandera True
  otra2:
    - say "Lo estÃ¡s haciendo muy bien {} ğŸ’™ğŸ‘".format(username)
    - say "**Â¿Existe algo mÃ¡s que necesites justo ahora?**"
    - say "Escribe Si o No"
    - input otra2 |yesno
  preocupacion3:
    - say "Muy bien, Â¿quÃ© otra cosa necesitas?"
    - input preocupacion3
  gracias:
    - set_slot said_preocupacion False
    - say "**Muchas gracias {}** por compartir esto conmigo ğŸ’•.".format(username)
      #- if preocupacion3 then say f"Entiendo que lo que necesitas justo ahora es **{preocupacion1}**, **{preocupacion2}** y **{preocupacion3}**"
      #- if preocupacion3 then set_slot said_preocupacion "true"
      #- if preocupacion2 and said_preocupacion!="true" then say f"Entiendo que lo que necesitas justo ahora es **{preocupacion1}** y **{preocupacion2}**"
      #- if preocupacion2 then set_slot said_preocupacion "true"
      # - if preocupacion1 and said_preocupacion!="true" then say f"Entiendo que lo que necesitas justo ahora es **{preocupacion1}**"
  jerarquia:
    - say "De estas necesidades, Â¿cuÃ¡l es la mÃ¡s urgente para ti?"
    - input jerarquia
  tips:
    - say "Gracias por confiar en mÃ­ ğŸ’•ğŸ¶."
    - say "Recuerda que es importante tratar de resolver las necesidades de una en una, empezando por la mÃ¡s urgente. Siempre intenta comenzar con aquellas necesidades relacionadas con  nuestra salud fÃ­sica y psicolÃ³gica ğŸ˜Šâ¤ï¸ğŸ§ ."
    - say "AdemÃ¡s, ten en mente que muchas veces podemos solicitar ayuda tanto a los servicios de emergencia o sociales, asÃ­ como a nuestros seres queridos ğŸ˜„â¤ï¸ğŸ˜„."
    
script:
  - solve intro3
  - solve preocupacion1
  - solve otra3
  - if otra == True then solve preocupacion2
  - if otra == True then solve otra2
  - if otra == False then say "Okay, muy bien ğŸ˜Š."
  - if otra2 == True then solve preocupacion3
  - solve gracias
  - if bandera == True then solve jerarquia
  - solve tips
  - solve derivacion
