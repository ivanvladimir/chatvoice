conversations:
  - 'categorizacion.yaml'

strategies:
  resSi:
    - say "Muy bien. Para explicar mejor el ejercicio ğŸ«, he preparado el **siguiente video** . Oprime _play_ para comenzar a ver el viedeo. Si en cualquier momento lo deseas, puedes parar el video ğŸ˜Š."

  set_video:
    - set_slot video_visto False

  ask_video:
    - say "**Â¿Ya terminaste el ejercicio?**"
    - say "Escribe Si o No ğŸ˜Š"
    - input res_video_visto | yesno
    - set_slot video_visto True
    - if res_video_visto then solve set_video

  cinco_cosas:
    - say "Excelente. La tÃ©cnica 5-4-3-2-1 nos ayudarÃ¡ a conectarnos con nuestros 5 sentidosğŸ‘‚ âœ‹ ğŸ‘ƒ ğŸ‘ï¸ ğŸ‘„"
    - say "Te pido por favor que durante todo el ejercicio, te esfuerces en enfocar tu atenciÃ³n en cosas y estÃ­mulos que sean agradables para ti â¤ï¸ğŸ˜Š."
    - say "**Â¿Comenzamos?**ğŸ˜Š"
    - say "Escribe Si o No"
    - input cont | yesno
  cinco_cosas_cont:
    - say "Escribe 5 cosas que puedas ver ğŸ‘ï¸ ğŸ‘€ ğŸ˜Š... "
    - say "Observa los colores, las formas y los detalles a tu alrededor ğŸŒ¸â˜€ï¸. "
    - input respuesta
    - say "Â¡Muy bien! ğŸ˜Šâ¤ï¸"
    - say "Ahora, escribe 4 cosas que puedas sentir con tu cuerpo âœ‹ ğŸ¤— ğŸ¦¶..."
    - say "Como la sensaciÃ³n de alguna tela o el clima sobre tu piel ğŸ‘– ğŸ‘š â˜€ï¸ğŸŒ§ï¸"
    - input respuesta
    - say "Excelente trabajo ğŸ‘â¤ï¸"
    - say "ContinÃºa escribiendo 3 cosas que puedas oir ğŸ‘‚ğŸ¶..."
    - say "Pon atenciÃ³n a los sonidos de tu alrededor, pueden estar lejos o cerca de ti â° ğŸ ğŸŒ² ğŸ¶."
    - input respuesta
    - say "Â¡Lo estÃ¡s haciendo muy bien! ğŸ˜Šâ¤ï¸"
    - say "Ahora, respira profundamente y escribe 2 cosas que puedas oler ğŸ‘ƒ ..."
    - say "Intenta identificar los aromas que estÃ©n cerca de ti ğŸŒ¸ğŸ•¯ï¸"
    - input respuesta
    - say "Muy buenas respuestas â¤ï¸."
    - say "Para terminar, escribe 1 cosa que puedas saborear ğŸ‘„..."
    - say "Imagina algÃºn alimento que te guste, su sabor, temperatura y textura ğŸ¬ ğŸª ğŸ«"
    - input respuesta
    - say "Â¡Excelente! Has completado el ejercicio 5-4-3-2-1 de manera admirable ğŸ˜‰â¤ï¸. Espero que hayas logrado establecer una conexiÃ³n con tus sentidos y experimentar sensaciones gratificantes ğŸ˜."
    - say "Recuerda que puedes practicar esta tÃ©cnica siempre que lo desees ğŸ¶â¤ï¸."
    - say "**Â¿Deseas continuar la conversaciÃ³n?**"
    - say "Escribe Si o No"
    - input ask_cont | yesno
  full:
    - say "**Â¿Te gustarÃ­a probar otra tÃ©cnica de relajaciÃ³n?** ğŸ˜Š Te recomiendo practicarla solo si ya te encuentras en un entorno seguro y fuera del lugar del accidente. Si  no es asÃ­, te sugiero no probar esta tÃ©cnica por ahora."
    - say "Escribe Si o No"
    - input otro_ejercicio | yesno
    - if opcion==1 and otro_ejercicio==True then solve cinco_cosas
    - if opcion==1 and otro_ejercicio==True and cont==True then solve cinco_cosas_cont
    - if opcion==1 and otro_ejercicio==True and cont==False then solve categorizacion
    - if opcion==1 and otro_ejercicio==True and ask_cont==True then solve categorizacion
    - if opcion==1 and otro_ejercicio==True and ask_cont==False then say TERMINAR
    - if opcion==1 and otro_ejercicio==False and cont==False then solve categorizacion


script:
  - solve resSi
  - set_slot video_visto True
  - set_slot cont False
  - say VIDEO
  - while video_visto then solve ask_video
  - say "Lo hiciste muy bien ğŸ’•. Espero que este ejercicio te haya ayudado a relajarte ğŸ˜ŠğŸ’™."
  - if opcion==2 then say "Puedes regresar siempre que lo desees a realizar este ejercicio conmigo ğŸ˜ŠğŸ«"
  - if opcion==1 then solve full
  
